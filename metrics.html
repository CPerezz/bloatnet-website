<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metrics & Data Collection - Bloatnet Initiative</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/metrics.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <img src="assets/images/ethereum-eth-logo-animated.gif" alt="Ethereum" class="ethereum-logo-gif">
                Bloatnet
            </a>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="metrics.html" class="nav-link active">Metrics</a></li>
                <li><a href="attacks.html" class="nav-link">Attack Vectors</a></li>
                <li><a href="bloating.html" class="nav-link">Bloating</a></li>
            </ul>
            <button class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>

        <!-- Mobile Menu Overlay -->
        <div class="mobile-menu" id="mobileMenu">
            <button class="mobile-menu-close" id="mobileMenuClose">&times;</button>
            <ul class="mobile-menu-links">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="metrics.html" class="nav-link active">Metrics</a></li>
                <li><a href="attacks.html" class="nav-link">Attack Vectors</a></li>
                <li><a href="bloating.html" class="nav-link">Bloating</a></li>
            </ul>
        </div>
    </nav>

    <!-- Header Section -->
    <section class="metrics-header interactive-header">
        <div class="container">
            <div class="header-content">
                <h1 class="animated-title">Data Collection & Metrics</h1>
                <p class="header-subtitle animated-subtitle">
                    Critical performance indicators and research data points for the Bloatnet initiative.
                    This is a collection of data points requested by researchers, core devs, client teams and
                    individuals.
                </p>

                <!-- Interactive Overlay -->
                <div class="collaboration-overlay">
                    <div class="collaboration-content">
                        <div class="collaboration-icon">ü§ù</div>
                        <h3 class="collaboration-text">Collaborate with Ethereum's research actively!</h3>
                        <div class="collaboration-arrow">‚Üì</div>
                        <p class="collaboration-subtitle">Click to contribute your ideas</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 3D Solarpunk Shapes -->
        <div class="solarpunk-shapes">
            <div class="ethereum-shape ethereum-float-1"></div>
            <div class="ethereum-shape ethereum-float-2"></div>
            <div class="ethereum-shape ethereum-orbit-1"></div>
            <div class="ethereum-shape ethereum-bounce-1"></div>
            <div class="ethereum-shape ethereum-wave-1"></div>
            <div class="ethereum-shape ethereum-spiral-1"></div>
            <div class="ethereum-shape ethereum-float-1"></div>
            <div class="ethereum-shape ethereum-float-2"></div>
            <div class="ethereum-shape ethereum-orbit-1"></div>
        </div>

        <!-- Animated Background Elements -->
        <div class="header-particles">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
        </div>
    </section>

    <!-- Metrics Grid -->
    <section class="metrics-section">
        <div class="container">
            <div class="metrics-grid" id="metrics-grid">

                <!-- Metrics from Stateless-Consensus Team and Geth Team (initial batch) -->
                <div class="metric-card initial-card" data-category="performance">
                    <div class="metric-header">
                        <div class="requester-badges">
                            <div class="requester-badge">Stateless-Consensus</div>
                            <div class="requester-badge">Geth</div>
                        </div>
                        <div class="metric-title-row">
                            <h3>Read/Write Performance vs Tree Depth</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Measuring how I/O performance degrades with respect to state growth and tree depth at each
                            time interval. Critical for understanding performance bottlenecks as the state size
                            increases.
                        </p>
                    </div>
                </div>

                <div class="metric-card initial-card" data-category="database">
                    <div class="metric-header">
                        <div class="requester-badges">
                            <div class="requester-badge">Stateless-Consensus</div>
                            <div class="requester-badge">Geth</div>
                        </div>
                        <div class="metric-title-row">
                            <h3>Client Database Breaking Points</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Identifying when and where client DB implementations break due to inability to hold X[G/T]Bs
                            of state. Monitor sync failures, OOM errors, and other critical breakdowns.
                        </p>
                    </div>
                </div>

                <div class="metric-card initial-card" data-category="execution">
                    <div class="metric-header">
                        <div class="requester-badges">
                            <div class="requester-badge">Stateless-Consensus</div>
                            <div class="requester-badge">Geth</div>
                        </div>
                        <div class="metric-title-row">
                            <h3>Block Creation Time & Flamegraph Analysis</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Measuring block building/execution time changes with gas limit increases. Includes detailed
                            flamegraph analysis of computation, I/O, swapping, and other performance factors.
                        </p>
                    </div>
                </div>

                <div class="metric-card initial-card" data-category="witness">
                    <div class="metric-header">
                        <div class="requester-badges">
                            <div class="requester-badge">Stateless-Consensus</div>
                            <div class="requester-badge">Geth</div>
                        </div>
                        <div class="metric-title-row">
                            <h3>MPT Witness Size Analysis</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Tracking multiproof size for state changes and deep-depth tree values. While 3x DB growth
                            may only increase depth by ~2 levels, monitoring witness size impact is crucial.
                        </p>
                    </div>
                </div>

                <!-- Additional metrics (will be loaded via "see more") -->
                <div class="metric-card loadmore-card" data-category="resources" style="display: none;">
                    <div class="metric-header">
                        <div class="requester-badges">
                            <div class="requester-badge">Stateless-Consensus</div>
                            <div class="requester-badge">Geth</div>
                        </div>
                        <div class="metric-title-row">
                            <h3>Disk Growth & RAM Usage per Block</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Self-explanatory tracking of disk space consumption and RAM usage for each block
                            executed/processed. Essential for resource planning and hardware requirements.
                        </p>
                    </div>
                </div>

                <div class="metric-card loadmore-card" data-category="database" style="display: none;">
                    <div class="metric-header">
                        <div class="requester-badges">
                            <div class="requester-badge">Stateless-Consensus</div>
                            <div class="requester-badge">Geth</div>
                        </div>
                        <div class="metric-title-row">
                            <h3>Database Compaction Impact</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Analyzing DB compaction impacts caused by state growth. Includes continuous monitoring of
                            compaction rate and performance effects (gballet suggests 1 client node running compaction
                            constantly).
                        </p>
                    </div>
                </div>

                <div class="metric-card loadmore-card" data-category="sync" style="display: none;">
                    <div class="metric-header">
                        <div class="requester-badges">
                            <div class="requester-badge">Stateless-Consensus</div>
                            <div class="requester-badge">Geth</div>
                        </div>
                        <div class="metric-title-row">
                            <h3>Sync Metrics & Breakpoints</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Testing snap-sync with each client for every X blocks. Monitoring when sync breaks,
                            degradation speed, starting/final chain/DB size, and sync speed. Requires many
                            state-touching txs for realistic metrics.
                        </p>
                    </div>
                </div>

                <div class="metric-card loadmore-card" data-category="caching" style="display: none;">
                    <div class="metric-header">
                        <div class="requester-badges">
                            <div class="requester-badge">Stateless-Consensus</div>
                            <div class="requester-badge">Geth</div>
                        </div>
                        <div class="metric-title-row">
                            <h3>Cache Missing Rates</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Monitoring cache functionality with respect to state growth. Tracking cache poisoning
                            effects on next block execution - valuable data for identifying previously unfeasible attack
                            vectors.
                        </p>
                    </div>
                </div>

                <div class="metric-card loadmore-card" data-category="resources" style="display: none;">
                    <div class="metric-header">
                        <div class="requester-badges">
                            <div class="requester-badge">Stateless-Consensus</div>
                            <div class="requester-badge">Geth</div>
                        </div>
                        <div class="metric-title-row">
                            <h3>Node Operator Resource Usage</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Comprehensive monitoring of disk I/O, network bandwidth, and computational requirements for
                            running full nodes under increased load.
                        </p>
                    </div>
                </div>

                <div class="metric-card loadmore-card" data-category="user-experience" style="display: none;">
                    <div class="metric-header">
                        <div class="requester-badges">
                            <div class="requester-badge">Stateless-Consensus</div>
                            <div class="requester-badge">Geth</div>
                        </div>
                        <div class="metric-title-row">
                            <h3>Transaction Confirmation Times</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Real-world transaction processing speeds under various network loads. Important for
                            maintaining user experience as throughput increases.
                        </p>
                    </div>
                </div>

                <div class="metric-card loadmore-card" data-category="execution" style="display: none;">
                    <div class="metric-header">
                        <div class="requester-badges">
                            <div class="requester-badge">Stateless-Consensus</div>
                            <div class="requester-badge">Geth</div>
                        </div>
                        <div class="metric-title-row">
                            <h3>Block Processing/Re-execution Time</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Measuring the time required to process blocks under increased gas limits. Critical for
                            understanding the scalability boundaries and identifying bottlenecks in block execution.
                        </p>
                    </div>
                </div>

                <!-- Placeholder cards for other client teams -->
                <div class="metric-card loadmore-card" data-category="reth" style="display: none;">
                    <div class="metric-header">
                        <div class="requester-badge">Reth Team</div>
                        <div class="metric-title-row">
                            <h3>Reth-Specific Metrics</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Metrics requested by the Reth team will be added here once they provide their requirements.
                        </p>
                    </div>
                </div>

                <div class="metric-card loadmore-card" data-category="erigon" style="display: none;">
                    <div class="metric-header">
                        <div class="requester-badge">Erigon Team</div>
                        <div class="metric-title-row">
                            <h3>Erigon-Specific Metrics</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Metrics requested by the Erigon team will be added here once they provide their
                            requirements.
                        </p>
                    </div>
                </div>

                <div class="metric-card loadmore-card" data-category="nethermind" style="display: none;">
                    <div class="metric-header">
                        <div class="requester-badge">Nethermind Team</div>
                        <div class="metric-title-row">
                            <h3>Nethermind-Specific Metrics</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Metrics requested by the Nethermind team will be added here once they provide their
                            requirements.
                        </p>
                    </div>
                </div>

                <div class="metric-card loadmore-card" data-category="besu" style="display: none;">
                    <div class="metric-header">
                        <div class="requester-badge">Besu Team</div>
                        <div class="metric-title-row">
                            <h3>Besu-Specific Metrics</h3>
                            <span class="expand-indicator">‚ñº</span>
                        </div>
                    </div>
                    <div class="metric-content">
                        <p class="metric-description">
                            Metrics requested by the Besu team will be added here once they provide their requirements.
                        </p>
                    </div>
                </div>

            </div>

            <!-- See More Button -->
            <div class="see-more-container">
                <button id="see-more-btn" class="see-more-btn">
                    <span class="see-more-text">See More Metrics</span>
                    <span class="see-more-arrow">‚ñº</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Filter Controls -->
    <section class="filter-section">
        <div class="container">
            <h3>Filter by Category</h3>
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">All Metrics</button>
                <button class="filter-btn" data-filter="performance">Performance</button>
                <button class="filter-btn" data-filter="database">Database</button>
                <button class="filter-btn" data-filter="execution">Execution</button>
                <button class="filter-btn" data-filter="witness">Witness</button>
                <button class="filter-btn" data-filter="resources">Resources</button>
                <button class="filter-btn" data-filter="sync">Sync</button>
                <button class="filter-btn" data-filter="caching">Caching</button>
                <button class="filter-btn" data-filter="user-experience">User Experience</button>
                <button class="filter-btn" data-filter="reth">Reth</button>
                <button class="filter-btn" data-filter="erigon">Erigon</button>
                <button class="filter-btn" data-filter="nethermind">Nethermind</button>
                <button class="filter-btn" data-filter="besu">Besu</button>
            </div>
        </div>
    </section>

    <!-- Request New Metric Section -->
    <section class="request-metric-section">
        <div class="container">
            <div class="request-form-container">
                <h2>Request a New Metric</h2>
                <p class="form-description">Help us identify additional data points that are crucial for the Bloatnet
                    initiative</p>

                <!-- Embedded Google Form -->
                <div class="embedded-form-container">
                    <div class="form-loading-overlay">
                        <div class="loading-spinner"></div>
                        <p>Loading collaborative form...</p>
                    </div>
                    <iframe
                        src="https://docs.google.com/forms/d/e/1FAIpQLSdeTVr45HVTdhdpzDff8plocH7wJbtozNaHXN-L45OfSkrKBQ/viewform?embedded=true"
                        width="100%" height="900" frameborder="0" marginheight="0" marginwidth="0" loading="lazy"
                        onload="hideFormLoader()">
                        Loading‚Ä¶
                    </iframe>
                </div>
            </div>
        </div>
    </section>

    <!-- Call to Action -->
    <section class="cta">
        <div class="container">
            <h2>Contribute to Research</h2>
            <p>Help us gather critical data for Ethereum's scaling future</p>
            <a href="index.html" class="cta-button">‚Üê Back to Home</a>
        </div>
    </section>

    <script src="assets/js/script.js"></script>
    <script src="assets/js/metrics.js"></script>
</body>

</html>